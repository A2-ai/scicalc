% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rfc.R
\name{rfc}
\alias{rfc}
\title{Calculates renal impairment categories based on Renal Function Estimator}
\usage{
rfc(
  estimator = NULL,
  bsa = NULL,
  category_standard = c("regulatory", "clinical"),
  absolute_units = NULL
)
}
\arguments{
\item{estimator}{Numeric vector of renal function estimator values (eGFR, CrCL, etc.)}

\item{bsa}{Numeric vector of body surface area in m² for unit conversion. Required when
converting between absolute and relative units}

\item{category_standard}{Character string specifying categorization standard:
\code{"regulatory"} (default) or \code{"clinical"}}

\item{absolute_units}{Logical indicating if \code{estimator} units are mL/min (\code{TRUE})
or mL/min/1.73m² (\code{FALSE})}
}
\value{
Integer vector of renal impairment categories (1-4 for regulatory, 1-5 for clinical).
Returns \code{-999} for missing values. Includes a \code{category_standard} attribute
indicating the source ("FDA" or "KDIGO").
}
\description{
This function categorizes renal function based on estimated glomerular filtration rate (eGFR),
creatinine clearance, or other renal function estimators. It supports both clinical and
regulatory categorization standards and can convert between absolute (mL/min) and relative
(mL/min/1.73m²) units using body surface area.
}
\details{
The function applies different categorization schemes based on the \code{category_standard}:

\strong{Regulatory categories} (uses mL/min):
\itemize{
\item 1: Normal: ≥90 mL/min
\item 2:  Mild impairment: 60-89 mL/min
\item 3: Moderate impairment: 30-59 mL/min
\item 4: Severe impairment: <30 mL/min
}

\strong{Clinical categories} (uses mL/min/1.73m²):
\itemize{
\item 1: Normal: ≥90 mL/min/1.73m²
\item 2: Mild impairment: 60-89 mL/min/1.73m²
\item 3: Moderate impairment: 30-59 mL/min/1.73m²
\item 4: Severe impairment: 15-29 mL/min/1.73m²
\item 5: End-stage: <15 mL/min/1.73m²
}

When unit conversion is required, the function uses:
\itemize{
\item Absolute to relative: \code{relative = 1.73 (absolute / bsa)}
\item Relative to absolute: \code{absolute = relative (bsa / 1.73)}
}
}
\examples{
# Regulatory categories with absolute units (creatinine clearance)
rfc(estimator = c(95, 75, 45, 25), absolute_units = TRUE)

# Clinical categories with relative units (eGFR)
rfc(
  estimator = c(95, 75, 45, 25, 10),
  absolute_units = FALSE,
  category_standard = "clinical"
)

# Convert relative eGFR to regulatory categories
rfc(
  estimator = 65,
  absolute_units = FALSE,
  bsa = 1.8
)

# Pipeline example with realistic data
df <- data.frame(
  ID = 1:4,
  SEX = c("F", "M", "F", "M"),
  AGE = c(65, 45, 70, 50),
  CREAT = c(1.2, 0.9, 1.5, 1.1),
  WEIGHT = c(70, 80, 60, 85),
  HEIGHT = c(165, 175, 160, 180),
  RACE = c("WHITE", "BLACK", "OTHER", "ASIAN")
)

library(dplyr)
df \%>\%
  mutate(
    BSA = bsa(WEIGHT, HEIGHT, method = "Dubois"),
    EGFR = egfr(is_female(SEX), is_black(RACE), AGE, CREAT),
    AEGFR = aegfr(EGFR, BSA),
    # Clinical categories using relative eGFR directly
    BRFC_CLINICAL = rfc(EGFR, category_standard = "clinical"),
    # Regulatory categories - convert relative eGFR to absolute
    BRFC_REGULATORY_REL = rfc(EGFR, BSA),
    # Regulatory categories - AEGFR already absolute
    BRFC_REGULATORY_ABS = rfc(AEGFR)
  )
df
}
\references{
FDA Guidance for Industry: Pharmacokinetics in Patients with Impaired Renal Function.
\url{https://www.fda.gov/media/78573/download}

KDIGO 2024 Clinical Practice Guideline for the Evaluation and Management of Chronic Kidney Disease.
\url{https://www.kidney-international.org/action/showPdf?pii=S0085-2538(23)00766-4}
}
\seealso{
\code{\link{egfr}} for calculating eGFR, \code{\link{crcl}} for creatinine clearance,
\code{\link{bsa}} for body surface area calculation
}
